<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>FriendFinder</title>

  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
  <script src="https://code.jquery.com/jquery.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>

  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/chosen/1.5.1/chosen.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/chosen/1.5.1/chosen.jquery.min.js"></script>

</head>

<body>
  <div class="container  text-center">
    <h1>Friends Survey</h1>
    <hr>
    <h3><strong>Who are you?</strong></h3>
    <h4>Name</h4>
    <input type="text" id="name" class="form-control" required>
    <h4>Link to Photo</h4>
    <input type="text" id="photo" class="form-control" required>
    <hr>
    <br><br>
    <h3><strong>1.</strong></h3>
    <h4>How much wood could a woodchuck chuck if a woodchuck could chuck wood?</h4>
    <select class="chosen-select" id="q1">
      <option value=""></option>
      <option value="1">1 (Disagree)</option>
      <option value="2">2</option>
      <option value="3">3</option>
      <option value="4">4</option>
      <option value="5">5 (Agree)</option>
    </select>

    <h3><strong>2.</strong></h3>
    <h4>How many shells did Sally sell down by the sea shore?</h4>
    <select class="chosen-select" id="q2">
      <option value=""></option>
      <option value="1">1 (Disagree)</option>
      <option value="2">2</option>
      <option value="3">3</option>
      <option value="4">4</option>
      <option value="5">5 (Agree)</option>
    </select>


    <h3><strong>3</strong></h3>
    <h4>Peter Piper picked a peck of pickled peppers.
        A peck of pickled peppers Peter Piper picked.
        If Peter Piper picked a peck of pickled peppers?
        Where's the peck of pickled peppers Peter Piper picked?</h4>
    <select class="chosen-select" id="q3">
      <option value=""></option>
      <option value="1">1 (Disagree)</option>
      <option value="2">2</option>
      <option value="3">3</option>
      <option value="4">4</option>
      <option value="5">5 (Agree)</option>
    </select>


    <h3><strong>4</strong></h3>
    <h4>Betty bought a bit of butter.
        But the butter Betty bought was bitter.
        so Betty bought a better butter,
        was it was better than the butter Betty bought before?</h4>
    <select class="chosen-select" id="q4">
      <option value=""></option>
      <option value="1">1 (Disagree)</option>
      <option value="2">2</option>
      <option value="3">3</option>
      <option value="4">4</option>
      <option value="5">5 (Agree)</option>
    </select>

    <h3><strong>5</strong></h3>
    <h4>Fuzzy Wuzzy was a bear. Fuzzy Wuzzy had no hair. Fuzzy Wuzzy wasn’t fuzzy, was he?</h4>
    <select class="chosen-select" id="q5">
      <option value="1">1 (Disagree)</option>
      <option value="2">2</option>
      <option value="3">3</option>
      <option value="4">4</option>
      <option value="5">5 (Agree)</option>
    </select>


    <h3><strong>6</strong></h3>
    <h4>To begin to toboggan first buy a toboggan, but don't buy too big a toboggan. 
        Is too big a toboggan to buy to begin to toboggan?</h4>
    <select class="chosen-select" id="q6">
      <option value=""></option>
      <option value="1">1 (Disagree)</option>
      <option value="2">2</option>
      <option value="3">3</option>
      <option value="4">4</option>
      <option value="5">5 (Agree)</option>
    </select>


    <h3><strong>7</strong></h3>
    <h4>I slit a sheet, a sheet, I slit.
            Upon a slitted sheet, I sit?</h4>
    <select class="chosen-select chosen-default" id="q7">
      <option value=""></option>
      <option value="1">1 (Disagree)</option>
      <option value="2">2</option>
      <option value="3">3</option>
      <option value="4">4</option>
      <option value="5">5 (Agree)</option>
    </select>

    <h3><strong>8</strong></h3>
    <h4>A skunk sat on a stump and thunk the stump stunk,
            but the stump thunk the skunk stunk. Who would've thunk?</h4>
    <select class="chosen-select" id="q8">
      <option value=""></option>
      <option value="1">1 (Disagree)</option>
      <option value="2">2</option>
      <option value="3">3</option>
      <option value="4">4</option>
      <option value="5">5 (Agree)</option>
    </select>

    <h3><strong>9</strong></h3>
    <h4>Through three cheese trees three free fleas flew. 
            While these fleas flew, freezy breeze blew. 
            Freezy breeze made these three trees freeze. 
            Freezy trees made these trees’ cheese freeze. 
            Is that what made these three free fleas sneeze?</h4>
    <select class="chosen-select" id="q9">
      <option value=""></option>
      <option value="1">1 (Disagree)</option>
      <option value="2">2</option>
      <option value="3">3</option>
      <option value="4">4</option>
      <option value="5">5 (Agree)</option>
    </select>

    <h3><strong>10</strong></h3>
    <h4>A flea and a fly flew up in a flue.
            Said the flea, “Let us fly!”
            Said the fly, “Let us flee!”
            So they flew through a flaw in the flue.</h4>
    <select class="chosen-select" id="q10">
      <option value=""></option>
      <option value="1">1 (Disagree)</option>
      <option value="2">2</option>
      <option value="3">3</option>
      <option value="4">4</option>
      <option value="5">5 (Agree)</option>
    </select>

    <br>
    <br>

    <button type="submit" class="btn btn-primary btn-lg btn-block" id="submit"><i class="fa fa-check-circle" aria-hidden="true"></i>
     Submit</button>

    <hr>
    <footer class="footer">
      <div class="container">
        <p><a href="/api/friends">API Friends List</a> | <a href="https://github.com/heyemmibee/friendfinder">GitHub Repo</a></p>
      </div>
    </footer>

  </div>

 <!-- model matches would go in here! -->

 <script type="text/javascript">
 
  for (var selector in config) {
    $(selector).chosen(config[selector]);
  }

  $("#submit").on("click", function(event) {
    event.preventDefault();

    function validateForm() {
      var isValid = true;
      $(".form-control").each(function() {
        if ($(this).val() === "") {
          isValid = false;
        }
      });

      $(".chosen-select").each(function() {

        if ($(this).val() === "") {
          isValid = false;
        }
      });
      return isValid;
    }

    if (validateForm()) {
      var userData = {
        name: $("#name").val(),
        photo: $("#photo").val(),
        scores: [
          $("#q1").val(),
          $("#q2").val(),
          $("#q3").val(),
          $("#q4").val(),
          $("#q5").val(),
          $("#q6").val(),
          $("#q7").val(),
          $("#q8").val(),
          $("#q9").val(),
          $("#q10").val()
        ]
      };

      $.post("/api/friends", userData, function(data) {
        $("#match-name").text(data.name);
        $("#match-img").attr("src", data.photo);
        $("#results-modal").modal("toggle");

      });
    } else {
      alert("Please fill out all fields before submitting!");
    }
  });
</script>

</body>

</html>
